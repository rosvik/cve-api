use serde::{Deserialize, Serialize};
use serde_json::{from_reader, Result};
use std::fs::File;
use std::io::BufReader;

const PATH: &str = "/Users/rosvik/git/cvelistV5/cves/2023/34xxx/CVE-2023-34100.json";

#[derive(Serialize, Deserialize)]
#[allow(non_snake_case)]
struct CVE {
    dataType: String,
}

pub fn get_file() -> Result<String> {
    let file = File::open(PATH).unwrap();
    let reader = BufReader::new(file);

    // Parse JSON into serde_json::Value.
    let v: Result<CVE> = from_reader(reader);

    let todo = v.unwrap();

    // Return contents
    let data_string = todo.dataType.to_string();

    Ok(data_string)
}
